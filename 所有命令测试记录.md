# 所有命令测试记录

## 📋 命令清单

### 私聊命令（需要授权）

#### 基础命令
1. `/start` - 显示帮助信息
   - **权限**: 授权用户
   - **位置**: 私聊
   - **测试状态**: ⏳ 待测试

2. `/report [归属ID]` - 查看报表
   - **权限**: 授权用户
   - **位置**: 私聊
   - **测试状态**: ⏳ 待测试
   - **功能**: 显示全局或指定归属ID的报表
   - **按钮**: 月报、日期查询、开销管理、收入明细（管理员）

3. `/myreport` - 查看我的报表
   - **权限**: 任何用户（查看受限归属ID）
   - **位置**: 私聊
   - **测试状态**: ⏳ 待测试

4. `/search <类型> <值>` - 查找订单
   - **权限**: 授权用户
   - **位置**: 私聊
   - **测试状态**: ⏳ 待测试
   - **类型**: order_id/group_id/customer/state/date

5. `/accounts` - 查看所有账户
   - **权限**: 授权用户
   - **位置**: 私聊
   - **测试状态**: ⏳ 待测试

6. `/gcash` - 查看GCASH账号
   - **权限**: 授权用户
   - **位置**: 私聊
   - **测试状态**: ⏳ 待测试

7. `/paymaya` - 查看PayMaya账号
   - **权限**: 授权用户
   - **位置**: 私聊
   - **测试状态**: ⏳ 待测试

8. `/schedule` - 管理定时播报
   - **权限**: 授权用户
   - **位置**: 私聊
   - **测试状态**: ⏳ 待测试

---

### 群组命令（需要授权）

#### 订单操作
9. `/create` - 创建新订单
   - **权限**: 授权用户
   - **位置**: 群组
   - **测试状态**: ⏳ 待测试
   - **功能**: 读取群名自动创建订单

10. `/order` - 查看当前订单
    - **权限**: 授权用户
    - **位置**: 群组
    - **测试状态**: ⏳ 待测试

#### 订单状态
11. `/normal` - 设为正常
    - **权限**: 授权用户
    - **位置**: 群组
    - **测试状态**: ⏳ 待测试

12. `/overdue` - 设为逾期
    - **权限**: 授权用户
    - **位置**: 群组
    - **测试状态**: ⏳ 待测试

13. `/end` - 标记为完成
    - **权限**: 授权用户
    - **位置**: 群组
    - **测试状态**: ⏳ 待测试
    - **功能**: 自动记录收入明细

14. `/breach` - 标记为违约
    - **权限**: 授权用户
    - **位置**: 群组
    - **测试状态**: ⏳ 待测试

15. `/breach_end [金额]` - 违约完成
    - **权限**: 授权用户
    - **位置**: 群组
    - **测试状态**: ⏳ 待测试
    - **功能**: 自动记录收入明细

#### 播报
16. `/broadcast` - 播报付款提醒
    - **权限**: 授权用户
    - **位置**: 群组
    - **测试状态**: ⏳ 待测试

---

### 管理员命令（仅管理员）

#### 资金管理
17. `/adjust <金额> [备注]` - 调整资金
    - **权限**: 管理员
    - **位置**: 私聊
    - **测试状态**: ⏳ 待测试

#### 归属ID管理
18. `/create_attribution <ID>` - 创建归属ID
    - **权限**: 管理员
    - **位置**: 私聊
    - **测试状态**: ⏳ 待测试

19. `/list_attributions` - 列出所有归属ID
    - **权限**: 管理员
    - **位置**: 私聊
    - **测试状态**: ⏳ 待测试

#### 员工管理
20. `/add_employee <用户ID>` - 添加员工
    - **权限**: 管理员
    - **位置**: 私聊
    - **测试状态**: ⏳ 待测试

21. `/remove_employee <用户ID>` - 移除员工
    - **权限**: 管理员
    - **位置**: 私聊
    - **测试状态**: ⏳ 待测试

22. `/list_employees` - 列出所有员工
    - **权限**: 管理员
    - **位置**: 私聊
    - **测试状态**: ⏳ 待测试

#### 用户权限管理
23. `/set_user_group_id <用户ID> <归属ID>` - 设置用户归属ID权限
    - **权限**: 管理员
    - **位置**: 私聊
    - **测试状态**: ⏳ 待测试

24. `/remove_user_group_id <用户ID>` - 移除用户归属ID权限
    - **权限**: 管理员
    - **位置**: 私聊
    - **测试状态**: ⏳ 待测试

25. `/list_user_group_mappings` - 列出所有用户归属ID映射
    - **权限**: 管理员
    - **位置**: 私聊
    - **测试状态**: ⏳ 待测试

#### 系统维护
26. `/update_weekday_groups` - 更新星期分组
    - **权限**: 管理员
    - **位置**: 私聊
    - **测试状态**: ⏳ 待测试

27. `/fix_statistics` - 修复统计数据
    - **权限**: 管理员
    - **位置**: 私聊
    - **测试状态**: ⏳ 待测试

28. `/find_tail_orders` - 查找尾数订单
    - **权限**: 管理员
    - **位置**: 私聊
    - **测试状态**: ⏳ 待测试

---

### 快捷操作（群组消息）

#### 金额操作
29. `+<金额>` - 利息收入
    - **权限**: 授权用户
    - **位置**: 群组
    - **测试状态**: ⏳ 待测试
    - **功能**: 自动记录收入明细

30. `+<金额>b` - 本金减少
    - **权限**: 授权用户
    - **位置**: 群组
    - **测试状态**: ⏳ 待测试
    - **功能**: 自动记录收入明细

---

### 自动触发功能

#### 自动订单创建
31. **新成员入群** - 自动创建订单
    - **权限**: 自动
    - **位置**: 群组
    - **测试状态**: ⏳ 待测试

32. **群名变更** - 自动创建订单
    - **权限**: 自动
    - **位置**: 群组
    - **测试状态**: ⏳ 待测试

---

### 回调按钮功能

#### 报表相关回调
33. **报表视图切换** - 今日/月报/日期查询
    - **测试状态**: ⏳ 待测试

34. **收入明细查询** - 仅管理员
    - **测试状态**: ⏳ 待测试
    - **功能**: 查看收入明细

35. **开销管理** - 公司开销/其他开销
    - **测试状态**: ⏳ 待测试

36. **归属查询** - 按归属ID查看报表
    - **测试状态**: ⏳ 待测试

37. **订单查找** - 从报表界面查找订单
    - **测试状态**: ⏳ 待测试

#### 搜索相关回调
38. **搜索条件选择** - 状态/归属/星期分组
    - **测试状态**: ⏳ 待测试

39. **搜索结果操作** - 群发/修改归属
    - **测试状态**: ⏳ 待测试

#### 订单相关回调
40. **订单操作** - 状态变更/归属变更
    - **测试状态**: ⏳ 待测试

#### 支付账户回调
41. **账户管理** - 查看/编辑/添加账户
    - **测试状态**: ⏳ 待测试

#### 定时播报回调
42. **定时播报管理** - 设置/编辑/删除/启用/禁用
    - **测试状态**: ⏳ 待测试

---

## 📝 测试记录模板

### 命令测试记录

**命令**: `/start`
- **测试时间**: 
- **测试环境**: 私聊
- **测试用户**: 
- **预期结果**: 显示帮助信息
- **实际结果**: 
- **测试状态**: ⏳ 待测试
- **备注**: 

---

## 🎯 测试优先级

### 高优先级（核心功能）
1. `/start` - 基础命令
2. `/report` - 报表查看
3. `/create` - 订单创建
4. `/end` - 订单完成（验证收入记录）
5. `+金额` - 利息收入（验证收入记录）

### 中优先级（重要功能）
6. `/search` - 订单搜索
7. `/order` - 订单查看
8. `/adjust` - 资金调整
9. 收入明细查询功能

### 低优先级（辅助功能）
10. 其他管理命令
11. 定时播报
12. 支付账户管理

---

## 📊 测试统计

- **总命令数**: 42个
- **已测试**: 0个
- **待测试**: 42个
- **测试进度**: 0%

---

## ✅ 测试完成标准

每个命令测试需验证：
- [ ] 命令可以正常执行
- [ ] 权限控制正确
- [ ] 返回结果符合预期
- [ ] 错误处理正常
- [ ] 数据库操作正确（如适用）
- [ ] 收入记录正确（如适用）

---

**最后更新时间**: 2024-11-27

