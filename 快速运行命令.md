# 快速运行命令参考

## 🚀 一键启动

### Windows PowerShell
```powershell
# 1. 环境检查
python check_local_setup.py

# 2. 初始化数据库（首次运行）
python init_db.py

# 3. 启动项目
python main.py
```

### Linux/Mac
```bash
# 1. 环境检查
python3 check_local_setup.py

# 2. 初始化数据库（首次运行）
python3 init_db.py

# 3. 启动项目
python3 main.py
```

---

## ✅ 运行前检查

### 快速检查（推荐）
```bash
python check_local_setup.py
```

这会自动检查：
- ✅ Python 版本
- ✅ 依赖包安装
- ✅ 配置文件
- ✅ 数据库状态
- ✅ 项目结构

---

## 📝 配置文件位置

### 方式 1：使用 user_config.py（推荐）
```python
# user_config.py
BOT_TOKEN = '你的机器人Token'
ADMIN_USER_IDS = '你的用户ID'
```

### 方式 2：使用环境变量
```powershell
# Windows PowerShell
$env:BOT_TOKEN="你的机器人Token"
$env:ADMIN_USER_IDS="你的用户ID"
```

```bash
# Linux/Mac
export BOT_TOKEN="你的机器人Token"
export ADMIN_USER_IDS="你的用户ID"
```

---

## 🛑 停止运行

### 正常停止
- 按 `Ctrl+C` 停止机器人

### 查找并停止进程（Windows）
```powershell
# 查找 Python 进程
tasklist | findstr python

# 停止进程（替换 PID）
taskkill /PID <进程ID> /F
```

### 查找并停止进程（Linux/Mac）
```bash
# 查找 Python 进程
ps aux | grep python

# 停止进程
kill <进程ID>
```

---

## 🔍 运行状态检查

### 查看输出
机器人运行时会显示：
```
机器人启动中...
管理员数量: 1
检查数据库...
数据库已就绪
机器人已启动，等待消息...
命令菜单已更新
定时播报任务已初始化
```

### 测试机器人
1. 在 Telegram 中找到你的机器人
2. 发送 `/start` 命令
3. 应该收到帮助信息

---

## 🐛 常见错误处理

### 错误：BOT_TOKEN 未设置
**解决**：检查 `user_config.py` 或环境变量

### 错误：模块未找到
**解决**：`pip install -r requirements.txt`

### 错误：数据库锁定
**解决**：关闭其他使用数据库的程序，或重启

### 错误：权限拒绝
**解决**：检查用户 ID 是否在 ADMIN_USER_IDS 中

---

## 📊 日志查看

### 控制台日志
所有日志输出到控制台，包括：
- 启动信息
- 错误信息
- 操作日志

### 调试模式
```bash
# 启用调试输出
DEBUG=1 python main.py
```

---

## ✅ 运行检查清单

- [ ] 运行环境检查：`python check_local_setup.py`
- [ ] 所有检查项通过
- [ ] 配置文件已正确设置
- [ ] 数据库已初始化
- [ ] 启动项目：`python main.py`
- [ ] 机器人正常响应

---

**当前状态**：✅ 项目已配置完成，可以运行！

